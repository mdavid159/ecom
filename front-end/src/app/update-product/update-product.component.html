<div class="update-product-page">
  <h1>Update Product</h1>
  <form class="update-product-form" (ngSubmit)="onUpdateProduct()">
    <div class="form-group">
      <label for="name">Product Name</label>
      <input type="text" id="name" [(ngModel)]="product.name" name="name" required />
    </div>

    <div class="form-group">
      <label for="description">Description</label>
      <textarea
        id="description"
        rows="4"
        [(ngModel)]="product.description"
        name="description"
        required
      ></textarea>
    </div>

    <div class="form-group">
      <label for="price">Price</label>
      <input type="number" id="price" [(ngModel)]="product.price" name="price" required />
    </div>

    <div class="form-group">
      <label for="stock">Stock</label>
      <input type="number" id="stock" [(ngModel)]="product.stock" name="stock" required />
    </div>

    <div class="form-group">
      <label for="category">Category</label>
      <input type="text" id="category" [(ngModel)]="product.category" name="category" required />
    </div>

    <div>
      <label>
        Image:
        <input
          type="file"
          accept="image/*"
          (change)="onFileSelected($event)"
          style="display: none;"
          id="fileInput"
        />
        <button class="image-button" type="button" (click)="document.getElementById('fileInput')?.click()">
          Upload Image
        </button>
      </label>
      <p>Uploaded Images:</p>
      @for (imageUrl of product.imageUrl; track imageUrl; let i = $index) {
        <div class="image-preview">
          <div class="image-container">
            <img [src]="'http://localhost:3000' + product.imageUrl[i]" alt="Uploaded Image" />
          </div>
        </div>
      }
    </div>

    <div class="form-actions">
      <button type="submit" class="update-button">Update Product</button>
      <button type="button" class="cancel-button" (click)="cancelUpdate()">Cancel</button>
    </div>
  </form>
</div>
